\begin{filecontents*}[overwrite]{\jobname.bib}


@case{thomas,
  partya = {Thomas},
  partyb = {Newton},
  icaseyear = {1827},
	}
@case{thomascar,
  reportyear = {1827},
  reportvolume = {2},
  reportseries = {Car \& P},
  reportpage = {606},
  crossref = {thomas},
}
@case{snail,
  partya = {Donoghue}, 
  partyb = {Stevenson},
  reportyear={1932},
%  volyearneeded = {true},
  reportseries = {AC},
  reportpage = {562},
  casenickname = {snail in the bottle},
  note = {HL},
	}



@case{caseausrec,
  partya = {Applicant S270/2019}, 
  partyb = {Minister for Immigration and Border Protection},
  caseyear = {2020},
  courtname = {HCA},
  casenumber = {32},
	}

@case{casecanrec,
  partya = {Michel}, 
  partyb = {Graydon},
  caseyear = {2020},
  courtname = {SCC},
  casenumber = {24},
	}


@case{caseukrec,
  partya = {Revenue and Customs}, 
  partyb = {Parry},
  caseyear = {2020},
  courtname = {UKSC},
  casenumber = {35},
	}

@case{caseusrec,
  partya = {Little}, 
  partyb = {Reclaim Idaho},
%  caseyear = {2020},
%  courtname = {UKSC},
%  casenumber = {35},
  courtname = {USSC (July 30, 2020)},
%  courtdivision = {},
%  courtlist = {},
%  courtjurisdiction = {},
  courtcasenumber ={No. 20A18},
	}

@case{caseus,
  partya = {Pittsburgh Melting Co},
  partyb = {Totten},
%  reportyear = {1918},
  reportvolume = {248},
  reportseries = {US},
  reportpage = {1},
  note = {1918},
}

@case{caseuslumber,
  partya = {United States},
  partyb = {Detroit Timber \& Lumber Company},
%  reportyear = {},
  reportvolume = {200},
  reportseries = {US},
  reportpage = {321},
  note = {1906},
}

%=======
@case{caseaus,
  partya = {Royal Botanic Gardens and Domain Trust}, 
  partyb = {South Sydney City Council},
  caseyear = {2002},
  courtname = {HCA},
  casenumber = {5},
  reportyear = {2002},
%  volyearneeded = {true},
  reportvolume = {186},
  reportseries = {ALR},
  reportpage = {289},
	}

@case{casecan,
  partya = {Babcock}, 
  partyb = {Canada (Attorney General)},
  caseyear = {2002},
  courtname = {SCC},
  casenumber = {57},
  reportyear = {2002},
  volyearneeded = {true},
  reportvolume = {3},
  reportseries = {SCR},
  reportpage = {3},
	}


@case{caseukunrep1,
  partya = {Stanford International Bank Ltd}, 
  partyb = {Director of The Serious Fraud Office},
  caseyear = {2012},
  courtname = {UKSC},
  casenumber = {3},
%  reportyear = {xxxx},
%  volyearneeded = {true},
%  reportvolume = {xxx},
%  reportseries = {xxx},
%  reportpage = {xxx},
	}

@case{caseukunrep2,
  partya = {Kasilevicius}, 
  partyb = {Deputy Prosecutor General Lithuania},
  caseyear = {2014},
  courtname = {EWHC},
  casenumber = {2281 (Admin)},
%  reportyear = {xxxx},
%  volyearneeded = {true},
%  reportvolume = {xxx},
%  reportseries = {xxx},
%  reportpage = {xxx},
	note = {QBD},
	}



@case{caseuk,
  partya = {Cox}, 
  partyb = {Ergo Versicherung AG },
  caseyear = {2014},
  courtname = {UKSC},
  casenumber = {22},
  reportyear = {2014},
%  volyearneeded = {true},
%  reportvolume = {},
  reportseries = {AC},
  reportpage = {1379},
	}



@case{caseusnd,
  partya = {State}, 
  partyb = {Birchfield},
  caseyear = {2016},
  courtname = {ND},
  casenumber = {182},
%  reportyear = {},
%  volyearneeded = {true},
  reportvolume = {885},
  reportseries = {NW 2d},
  reportpage = {62},
  note = {NDSC},
	}
@book{martin,
author={Peter W Martin},
title={Introduction to Basic Legal Citation},
publisher={online PDF at LII, 502 pages},
date={2017},
}


@statute{crimcan,
statutetitle = {Criminal Code},
%statutelongtitle = {},
%statuteshorttitle = {},
%statutenickname = {},
%statutevolume = {},
%statutejurisdiction = {NSW},
%statuteregnalyear = {},
%statutechapter = {},
%statuteyear = {},%for the volume
statutetitleyear = {RSC 1985, c~C-46},%for the title
}


@statute{canreg,
statutetitle = {Maple Products Regulations},
%statutelongtitle = {},
statuteshorttitle = {CRC},
%statutenickname = {},
%statutevolume = {},
%statutejurisdiction = {NSW},
%statuteregnalyear = {},
statutechapter = {289},
%statuteyear = {},%for the volume
%statutetitleyear = {RSC 1985},%for the title
}

@statute{canregnwt,
citeref = {nwtreg},
%title = {xxx},
%chapter = {xxx},
year = {2008},
regnum = {26},
}


@statute{crimnsw,
statutetitle = {Crimes Act},
%statutelongtitle = {},
%statuteshorttitle = {},
%statutenickname = {},
%statutevolume = {},
statutejurisdiction = {NSW},
%statuteregnalyear = {},
%statutechapter = {},
%statuteyear = {},%for the volume
statutetitleyear = {1900},%for the title
}

@statute{canleg,
citeref = {canleg},
title = {Copyright Act},
chapter = {C-42},
svjy = {RSC 1985},
%year = {xxx},
%regnum = {xxx},
}



@statute{canregbc,
citeref = {bcreg},
year = {2008},
regnum = {278},
}

@case{becker,
  partya = {City of Marion}, 
  partyb = {Becker},
  caseshortname = {Becker},
  reportyear={1973},
  reportvolume = {6},
  reportseries = {SASR},
  reportpage = {13},
	}

@case{columbus,
  partya = {City of Columbus},
  partyashortname = {Columbus}, 
  partyb = {Becher},
  caseshortname = {Becher},
  icaseyear = {1962},
  jurisdiction = {Ohio},
  courtfullname = {Supreme Court of Ohio},
  note = {Ohio SC, 1962},
	}
@case{columbussr,
  reportvolume = {173},
  reportseries = {Ohio St},
  reportpage = {197},
  crossref = {columbus},
}

@case{columbusne,
  reportvolume = {180},
  reportseries = {NE 2d},
  reportseriesseries = {2d},
  reportpage = {836},
  crossref = {columbus},
}

@case{armstrong,
  partya = {Adam Armstrong's Case},
  icaseyear = {1823},
  caseshortname = {Armstrong},
	}

@case{armstrongmnc,
  caseyear = {1823},
  courtname = {EngR},
  casenumber = {1},
  crossref = {armstrong},
}


@case{armstronglewin,
  reportyear = {1823},
  reportvolume = {1},
  reportseries = {Lewin},
  reportpage = {245},
  crossref = {armstrong},
}

@case{armstronger,
  reportvolume = {168},
  reportseries = {ER},
  reportpage = {1028},
  crossref = {armstrong},
}

@article{smythsc,
author = {Russell Smyth},
title = {What do Intermediate Appellate Courts Cite? A Quantitative Study of the Citation Practice of Australian State Supreme Courts},
mncyear = {1999},
mncname = {AdelLawRw},
mncnumber = {3},
date = {1999},
volume = {21},
journaltitle = {Adelaide Law Review},
pages = {51},
keywords = {lj},
}



\end{filecontents*}

\documentclass[12pt]{article}
\title{Lawcite\\QuickStart Guide \\Exercise 3\\ Numbered Paragraphs\\[24pt]\normalsize \hfill ---------\hfill\ }
\author{}
\date{}
\newcommand\rulesep{\rule{0.4\textwidth}{.4pt}}
%\usepackage{pdfpages}
\usepackage[table]{xcolor}
\usepackage{fontspec}
\setmainfont{Noto Serif}
\setsansfont{Noto Sans}[Scale=0.9]
\setmonofont{Noto Sans Mono}[Colour=blue]
\newfontface\ftmark{Noto Sans Symbols2}
\newcommand\goodoh{{\large\ftmark ðŸ—¸}}
\newcommand\notsogoodoh{{\large\ftmark ðŸ—¶}}

\usepackage{splitidx}
%=============================================

\newcommand\bef[1]{(\textit{#1})}
\newcommand\cef[1]{\textit{#1}}
\newcommand\cmd[1]{\textsf{\textbackslash\textbf{#1}}}
\newcommand\cmdb[2]{\textsf{\textbackslash\textbf{#1}\{#2\}}}

\usepackage[style=lawcite,
%	party-separator-dotted=true,
%	lawrefstyle=caseallabove,
	print-toc-tos=true,
%%	hyperlink-index-pages=true,
	use-toc-parnumrefs=true,
	show-statute-jurisdiction=true,
%	citetracker=true,
	ibidtracker=false,%for demo purposes
	]{biblatex}
\addbibresource{\jobname.bib}



%\renewcommand\myhyperref[1]{\hyperpage{#1}}
%\renewcommand\lcparnumrefsencap{|myhyperref}

\usepackage{fancyvrb}
\usepackage{mdframed}
\rowcolors{1}{blue!5}{blue!9}
\usepackage{float}
%\floatstyle{boxed}
%------------------------------- program float
\newfloat{program}{h}{lop}
\floatname{program}{Code listing}

\newenvironment{dov}[2]%
  {\VerbatimEnvironment
      \program
    \begin{mdframed}[backgroundcolor=green!40!blue!12]
    \caption{#2}%
    \label{#1}%    
    \begin{Verbatim}}
  {\end{Verbatim}%
    \end{mdframed}
    \endprogram
}

%------------------------------- reference float
\newfloat{reference}{h}{lop}
\floatname{reference}{Reference}

\newenvironment{dor}[2]%
  {%
      \reference
    \begin{mdframed}[backgroundcolor=red!40!green!12]
    \caption{#2}%
    \label{#1}%    
    }
  {%
    \end{mdframed}
    \endreference
}

%------------------------------- code emphasis
\newcommand\markthis[1]{\textcolor{red}{\textbf{#1}}}



\makeindex
\newindex[Table of Cases]{cases}
\newindex[Table of Statutes]{legislation}
\newindex[Table of Regulations]{regulations}
\newindex[General Index]{general}
\newcommand\pagerefindexnoteb{{\small\mdseries\itshape\hfill Para}}
\setindexpreamble[cases]{\pagerefindexnoteb}
\setindexpreamble[legislation]{\pagerefindexnoteb}
\setindexpreamble[regulations]{\pagerefindexnoteb}


%%Numbered paragraphs
%\newcounter{parno}%[paragraph]%% numbered paragraph
%\renewcommand{\theparno}{\arabic{parno}}
%\newcommand{\p}{\refstepcounter{parno}\noindent[\theparno]\ } 
%\setcounter{secnumdepth}{4}
%\setcounter{parno}{0}
%
%
%%numbered paragraphs cross-referencing method
%\newcommand\definname{para}
%\newcommand{\paradef}[1]{\label{#1}}
%\newcommand\pararef[1]{\definname\ [\ref{#1}]}


%-------------------------------------------------------
\AtWriteToIndex{cases}{\let\thepage\theparno}
\AtWriteToIndex{legislation}{\let\thepage\theparno}
\AtWriteToIndex{regulations}{\let\thepage\theparno}
%-------------------------------------------------------




\usepackage[
				bookmarks,
            colorlinks=true,        
            allcolors = black,  
            citecolor=blue,        
            pageanchor=true,
            plainpages=false,
            hyperindex=false, 
]{hyperref}


\newcommand\illus[2]{\bigskip\noindent\fbox{#1}\\#2}

%\usepackage{tablefootnote}

%=============================================
\begin{document}
\maketitle
%\tableofcontents


%\setprintlegtocon
\setindexhyperlinks
\let\xoldtwocolumn\twocolumn
\iftoggle{printlegtoc}{%
\let\oldtwocolumn\twocolumn
\renewcommand{\twocolumn}[1][]{#1}
\let\oldclearpage\clearpage
\renewcommand\clearpage{\relax}
\extendtheindex{}{\useindexpreamble}{}{}
\printindex[cases]
\printindex[legislation]
\iftoggle{printregulations}{\printindex[regulations]}{}
%%%\printindex[general]
%%%
\renewcommand{\twocolumn}[1][]{\oldtwocolumn}
\renewcommand\clearpage{\oldclearpage}
}{}
\bigskip
\hfill\rulesep\hfill\ %\hrule%{0.8\linewidth}
\bigskip

\p The lawcite QuickStart Guide Exercise Pack consists of three exercises. 
Exercise 1 illustrates the different styles available to the citation commands. Exercise 2 demonstrates how to produce the Table of Cases and a general index. Exercise 3 (this one) demonstrates the use of numbered paragraphs.

\p Compile this document as per the orevious exercises, with with (xe/lua)latex, biber, (xe/lua)latex, splitinex, (xe/lua)latex.

\p Add the code in listing \ref{refparnum} to the document preamble.

\begin{dov}{refparnum}{Defining the paragraphing numbering command, \cmd{p}}
%Numbered paragraphs
\newcounter{parno}
\renewcommand{\theparno}{\arabic{parno}}
\newcommand{\p}{\refstepcounter{parno}%
\noindent[\theparno]\ } 
\setcounter{secnumdepth}{4}
\setcounter{parno}{0}
\end{dov}


\p To enable cross-referencing, put the code in listing \ref{refcrossref} also in the preamble.

\begin{dov}{refcrossref}{Cross-referencing commands}
%numbered paragraphs cross-referencing method
\newcommand\definname{para}
\newcommand{\paradef}[1]{\label{#1}}
\newcommand\pararef[1]{\definname\ [\ref{#1}]}
\end{dov}

\p To get the paragraph numbers at citation into the Table of Cases, put the code shown in listing \ref{reftoc} also into the document peramble.

\begin{dov}{reftoc}{Writing para numbers to the indexes.}
%-------------------------------------------------------
\AtWriteToIndex{cases}{\let\thepage\theparno}
\AtWriteToIndex{legislation}{\let\thepage\theparno}
\AtWriteToIndex{regulations}{\let\thepage\theparno}
%-------------------------------------------------------
\end{dov}

\p When running the SplitIndex step, format the Table of Cases paragraph numbers with the index style file code shown in listing \ref{refformat}.

\begin{dov}{refformat}{Putting square brackets in the ToC}
delim_0 "\\space\\dotfill\\space ["
delim_1 "\\space\\dotfill\\space ["
delim_2 "\\space\\dotfill\\space ["
delim_n "], ["
delim_r "--"
delim_t "]"

line_max 172
\end{dov}

\p Change the index preamble to produce \textit{Para} instead of \textit{Page} (listing \ref{refindpreamble}).

\begin{dov}{refindpreamble}{Index Preamble}
\newcommand\pagerefindexnoteb{{%
\small\mdseries\itshape\hfill Para}}
\end{dov}

\lcsetstyleaglc\setallabove

Examples

\p Citations. Example of usage. The first case is also mentioned in \pararef{par:snail}.

\subsection*{Cases}

\lccitedemo{snail}
\bigskip 


%\lcsetstyledefault
\p Text text text 
\lccitedemo{becker}
\bigskip 

\p Text text text 
\lccitedemorr{armstronglewin, armstronger}
\bigskip 

\p Text text text 
\lccitedemorr{columbussr, columbusne}\bigskip 


%=============================================
Multicites

\renewcommand\lcdemolabelw{4cm}

%\noindent\fbox{#1}\vspace{2pt}

\p Text text text 

\noindent\makebox[\lcdemolabelw][l]{\sdfs{lawcitesinline}}\lawcitesinline[\nopp 564]{snail}[\nopp 15]{becker}

\p Text text text 

\noindent\makebox[\lcdemolabelw][l]{\sdfs{lawcitesinlinerr}}\lawcitesinlinerr[\nopp 200]{columbussr}[\nopp 838]{columbusne}

\p Text text text \paradef{par:snail} 

\noindent\makebox[\lcdemolabelw][l]{\sdfs{lawcitesfoot}}Text\lawcitesfoot[\nopp 564]{snail}[\nopp 15]{becker}

\p Text text text 

\noindent\makebox[\lcdemolabelw][l]{\sdfs{lawcitesfootrr}}Text\lawcitesfootrr[\nopp 200]{columbussr}[\nopp 838]{columbusne}


%===============================================
Statutes
\bigskip 

\p Text text text. These two items (=two unique strings) are not being sent to the Table of Cases. 

\lcsetindexingoff\lccitedemostat{crimcan}\lcsetindexingon
\bigskip 

\p Text text text 

\lccitedemostat{crimnsw}
\bigskip 

\p Text text text 

\lccitedemostat{canleg}
\bigskip 


Regulations

\p Text text text 

\lccitedemostat{canregbc}
\bigskip 


Law Journals

\p Text text text 

\lccitedemolj{smythsc}
\bigskip 


Index Style File

\p To prevent spurious spaces appearing in the ToC after \markthis{[} for long citations because the default line length in the index file is 72 characters followed by a newline beginning with two tabs (to make the index file human-readable), set \verb|line_max| in the index style file (.ist) to a larger number.



\bigskip
\bigskip
\hfill --oooOooo--\hfill\ 
%\vfill
%\printbibliography[type=book]
%restore index's traditional two-column layout
\let\twocolumn\xoldtwocolumn
\printindex[general]
\end{document}


